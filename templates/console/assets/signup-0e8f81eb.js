import{r,U as z,w as F,j as e,z as _,a8 as B,a9 as M,aa as O,S as f,T as x,V as h,a6 as w,ab as D,ad as G}from"./index-ed4e287f.js";import{u as W}from"./use-router-51db7fba.js";import{E as Z,L as $}from"./ErrorMessage-1c50ec3f.js";import{C as H}from"./CircularProgress-b62e0508.js";import{T as o}from"./TextField-1518961f.js";import{I as j}from"./InputAdornment-0a67bd13.js";function ee(){const[d,y]=r.useState(""),[a,b]=r.useState(""),[v,P]=r.useState(""),[c,S]=r.useState(""),[u,C]=r.useState(""),[k,s]=r.useState(""),[N,m]=r.useState(!1),{setEmail:R}=r.useContext(z),A=async()=>{m(!0);const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:a,first_name:c,last_name:u})};try{const i=await G(t),l=await i.json();i.ok?(R(l.email),I.push("/login")):s(l.detail)}catch{s("An error occurred. Please try again.")}finally{m(!1)}},g=t=>{if(t.preventDefault(),!d||!a||!c||!u){s("All fields are required");return}if(!/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(d)){s("Please enter a valid email address");return}if(typeof a!="string"){s("Password must be a string");return}if(a.length<8){s("Password must be at least 8 characters long");return}if(a!==v){s("Ensure that the password match");return}const l=/[A-Z]/,T=/[a-z]/,U=/[0-9]/,q=/[!@#$%^&*()_+\-={};':"\\|,.<>?]+/;if(!l.test(a)){s("Password must contain at least one uppercase letter");return}if(!T.test(a)){s("Password must contain at least one lowercase letter");return}if(!U.test(a)){s("Password must contain at least one digit");return}if(!q.test(a)){s("Password must contain at least one special character");return}A()},E=F(),I=W(),[n,p]=r.useState(!1),L=e.jsxs(e.Fragment,{children:[e.jsxs(f,{spacing:3,pt:3,children:[e.jsx(o,{name:"fisrtName",label:"First Name",onChange:t=>S(t.target.value),required:!0}),e.jsx(o,{name:"lastName",label:"Last Name",onChange:t=>C(t.target.value),required:!0}),e.jsx(o,{name:"email",label:"Email address",onChange:t=>y(t.target.value),required:!0}),e.jsx(o,{name:"password",label:"Password",onChange:t=>b(t.target.value),type:n?"text":"password",InputProps:{endAdornment:e.jsx(j,{position:"end",children:e.jsx(h,{onClick:()=>p(!n),edge:"end",children:e.jsx(w,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx(o,{name:"confirmation password",label:"Confirm Password",onChange:t=>P(t.target.value),type:n?"text":"password",InputProps:{endAdornment:e.jsx(j,{position:"end",children:e.jsx(h,{onClick:()=>p(!n),edge:"end",children:e.jsx(w,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(Z,{message:k}),e.jsx($,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:g,onSubmit:g,loading:N,children:"SignUp"}),e.jsxs(x,{variant:"body2",sx:{mt:5,mb:2},children:["Already have an account?Â ",e.jsx(D,{to:"/login",variant:"subtitle2",style:{textDecoration:"none",cursor:"pointer"},children:"Login"})]})]});return e.jsxs(_,{sx:{...B({color:M(E.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(O,{sx:{position:"fixed",top:{xs:10,md:20},left:{xs:10,md:20}}}),e.jsx(f,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(H,{sx:{p:5,width:1,maxWidth:520,overflowY:"auto",maxHeight:"80vh","&::-webkit-scrollbar":{display:"none"}},children:[e.jsx(x,{variant:"h4",children:"Sign Up to Genbase"}),L]})})]})}export{ee as default};
